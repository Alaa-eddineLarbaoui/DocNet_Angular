<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<div class="container">
  <h2>Réserver un Rendez-vous</h2>


  <div *ngIf="successMessage" class="alert alert-success" role="alert">
    {{ successMessage }}
  </div>



  <form [formGroup]="appointmentForm" (ngSubmit)="onSubmit()">
<div class="DateTime">
    <div class="form-group">
      <label for="date">Date</label>
      <input
        type="date"
        id="date"
        formControlName="date"
        [min]="minDate"
        (change)="getAvailableTimes()"
        class="form-control"
        required />
    </div>

    <div class="form-group">
      <label for="time">Créneau Horaire Disponible</label>
      <select id="time" formControlName="time" class="form-control" required>
        <option *ngFor="let time of availableTimes" [value]="time">{{ time }}</option>
      </select>
    </div>

</div>

    <div class="form-group">
      <label for="appointment_reason">Raison du Rendez-vous</label>
      <select id="appointment_reason" formControlName="appointment_reason" class="form-control" required>
        <option [value]="AppointmentReason.CONSULTATION">Consultation</option>
        <option [value]="AppointmentReason.CHECKUP">Contrôle</option>
        <option [value]="AppointmentReason.SURGERY">Chirurgie</option>
      </select>
    </div>

    <div class="form-group">
      <label for="note">Note</label>
      <textarea id="note" formControlName="note" class="form-control"></textarea>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!appointmentForm.valid || submitted">Réserver</button>
  </form>

  <!--  <div *ngIf="successMessage" class="alert alert-success mt-3">{{ successMessage }}</div>  -->
</div>


<app-create-availability></app-create-availability>
